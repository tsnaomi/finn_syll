{% extends 'base.html' %}

{% block head %}
<link href='//fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
{% endblock %}

{% block body %}
{{ modal() }}
<br>
<br>
<br>
<div>
    <form class='search' method='POST'>
        <input type='hidden' name='_csrf_token' value='{{ csrf_token() }}'>
        <input type='text' name='search' class='search clear' placeholder="type in a {% if kw == 'find' %}word{% else %}sequence{% endif %}..." {% if find %}value={{ find }}{% endif %}> 
        <input type='submit' class='search clear' value={% if kw == 'find' %}'FIND'{% else %}'CONTAINS'{% endif %}>
    </form>
</div>
<br>
<br>
{% if results != none %}
{% if results %}
<div class='tokens container'>
    <div class='contains'>
        {% if kw == 'contains' %}<div class='count'>Words containing <i>{{ find }}</i> sequences ({{ count }} matches).</div>{% endif %}
        <br>
        {% if kw == 'contains' %}
        {{ tokenify(results, simple=True) }}
        {% else %}
        {{ tokenify(results, snapshot=True) }}
        {% endif %}
    </div>
</div>
<br>
{% else %}
<span class='message'>No matches found.</span>
{% endif %}
{% endif %}
{% endblock %}

{% block footer %}
<script>
    function populatemodal(id, orth, gold, freq, pos, msd, rules1, rules2, rules3, rules4, test1, test2, test3, test4, syll1, syll2, syll3, syll4, precision, recall, compound, stopword, foreign, note) {
        $('#orth').text(orth);
        $('#orth').addClass(gold);
        $('#freq').text(freq);
        $('#pos').text(pos);
        $('#msd').text(msd);
        $('#precision').text(precision);
        $('#recall').text(recall);
        $('#rules1').text(rules1);
        $('#rules2').text(rules2);
        $('#rules3').text(rules3);
        $('#rules4').text(rules4);
        $('#test1').text(test1);
        $('#test2').text(test2);
        $('#test3').text(test3);
        $('#test4').text(test4);
        $('#syll1').val(syll1);
        $('#syll2').val(syll2);
        $('#syll3').val(syll3);
        $('#syll4').val(syll4);
        $('#note').text(note);
        $('#id').val(id);
        if (compound == 'True') {
            $('#compound').prop('checked', true);
        };
        if (stopword == 'True') {
            $('#stopword').prop('checked', true);
        };
        if (foreign == 'True') {
            $('#foreign').prop('checked', true);
        };
    }
</script>
{% endblock %}
